title Update User with type Teacher or Officer or Workspace Admin

actor #green:0.5 "Workspace Admin" as w
participant "FUniverse Admin Client" as f
participant "User Controller" as gc
participant "User Service" as gs
database #blue:1 "Database" as db

w->f:Click Edit button
activate f
w<--f:Display Update User popup
w->f:Update information of User
f->f:Validate input data
alt If the input data is wrong
w<--f:Validate Message
end
w->f:Click Save button
f->gc:PUT: /api/user
activate gc
alt If there is required field do not have value
f<--gc:<color:#red>400 BAD_REQUEST: \nMissing required property</color>
w<--f:Message is required
else
gc->gs:isExist(id)
activate gs
gs->db:existsById(id)
activate db
gs<--db: Boolean value
deactivate db
gc<--gs:Boolean value
deactivate gs
alt If user is not exist
f<--gc:<color:#green>404 NOT FOUND</color>
f->f:Close popup
w<--f: Message Update fail
else
gc->gs:save()
activate gs
gs->db:Update User
activate db
gs<--db:User entity
deactivate db
gc<--gs:User entity
deactivate gs
f<--gc:<color:#green>200 OK\nResponse body: User data </color>
deactivate gc
f->f:Close popup
f->f:Update user detail page
w<--f: Message Update User successfully
deactivate f
end
end f


